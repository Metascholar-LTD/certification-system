RewriteEngine On
RewriteBase /

# Set correct MIME types for JavaScript modules
<FilesMatch "\.js$">
    Header set Content-Type "application/javascript"
</FilesMatch>

# Set correct MIME types for CSS files
<FilesMatch "\.css$">
    Header set Content-Type "text/css"
</FilesMatch>

# Handle Angular and React Router
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.html [L]

# Handle static assets
RewriteCond %{REQUEST_URI} !^/assets/
RewriteCond %{REQUEST_URI} !^/static/
RewriteCond %{REQUEST_URI} !^/favicon.ico
RewriteCond %{REQUEST_URI} !^/robots.txt
RewriteCond %{REQUEST_URI} !^/manifest.json
RewriteCond %{REQUEST_URI} !^/.*\.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$
RewriteRule . /index.html [L]